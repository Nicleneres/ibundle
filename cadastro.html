<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/img/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/estilos.css">
    
    <title>Bundle :: Página Principal</title>
    </head>
    <body>
        <div class="d-flex flex-column wrapper">
            <nav class="navbar navbar-expand-lg navbar-warning bg-light border-bottom shadow-sm mb-4">
                <div class="container">
                    <a class="navbar-brand text-black" href="/">
                        <b>iBundle</b>
                    </a>
                    <button
                        class="navbar-toggler"
                        type="button"
                        data-toggle="collapse"
                        data-target=".navbar-collapse"
                    >
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse">
                        <ul class="navbar-nav flex-grow-1">
                            <li class="nav-item">
                                <a class="nav-link text-black" href="/index.html">
                                    Principal
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-black" href="/contato.html">Contato</a>
                            </li>
                        </ul>
                        <div class=" align-self-end">
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a href="#" class="nav-link text-black" data-bs-toggle="modal" data-bs-target="#modalLogin">Entrar</a>                                
                                </li>
                                <li class="nav-item">
                                    <span class="badge rounded-pill bg-black text-light position-absolute ms-4 mt-0" title="5 produto(s) no carrinho">
                                        <small>5</small>
                                    </span>
                                    <a href="/carrinho.html" class="nav-link text-black">
                                        <i class="bi-cart" style="font-size: 24px; line-height: 24px;"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>

        <main class="flex-fill">
            <div class="container">
                <h1>Informe seus dados, por favor</h1>
                <hr>
                <form class="mt-3">
                    <div class="row">
                        <div class="col-sm-12 col-md-6">
                            <fieldset class="row gx-3">
                                <legend>Dados Pessoais</legend>
                                <div class="form-floating mb-3">
                                    <input class="form-control" type="text" id="txtNome" placeholder=" " autofocus required/>
                                    <label for="txtNome">Nome</label>
                                </div>
                                <div class="form-floating mb-3 col-md-6 col-xl-4">
                                    <input class="form-control" type="text" id="txtCPF" placeholder=" " />
                                    <label for="txtCPF">CPF</label>
                                </div>
                                <div class="form-floating mb-3 col-md-6 col-xl-4">
                                    <input class="form-control" type="date" id="txtDataNascimento" placeholder=" " required/>
                                    <label for="txtDataNascimento" class="d-inline d-sm-none d-md-inline d-lg-none">Data
                                        Nascimento</label>
                                    <label for="txtDataNascimento" class="d-none d-sm-inline d-md-none d-lg-inline">Data
                                        de Nascimento</label>
                                </div>
                            </fieldset>
                            <fieldset>
                                <legend>Contatos</legend>
                                <div class="form-floating mb-3 col-md-8">
                                    <input class="form-control" type="email" id="txtEmail" placeholder=" " required/>
                                    <label for="txtEmail">E-mail</label>
                                </div>
                                <div class="form-floating mb-3 col-md-6">
                                    <input class="form-control" placeholder=" " type="text" id="txtTelefone" required/>
                                    <label for="txtTelefone">Telefone</label>
                                </div>
                            </fieldset>
                        </div>
                        <div class="col-sm-12 col-md-6">
                            <fieldset class="row gx-3">
                                <legend>Endereço</legend>
                                <div class="form-floating mb-3 col-md-6 col-lg-4">
                                    <input class="form-control" type="text" id="txtCEP" placeholder=" " required/>
                                    <label for="txtCEP">CEP</label>
                                </div>
                                <div class="mb-3 col-md-6 col-lg-8 align-self-end">
                                    <textarea class="form-control text-muted bg-light"
                                        style="height: 58px; font-size: 14px;"
                                        disabled>Digite o CEP para buscarmos o endereço.</textarea>
                                </div>
                                <div class="clearfix"></div>
                                <div class="form-floating mb-3 col-md-4">
                                    <input class="form-control" type="text" id="txtNumero" placeholder=" " required/>
                                    <label for="txtNumero">Número</label>
                                </div>
                                <div class="form-floating mb-3 col-md-8">
                                    <input class="form-control" type="text" id="txtComplemento" placeholder=" " required/>
                                    <label for="txtComplemento">Complemento</label>
                                </div>
                                <div class="form-floating mb-3">
                                    <input class="form-control" type="text" id="txtReferencia" placeholder=" " required/>
                                    <label for="txtReferencia">Referência</label>
                                </div>
                            </fieldset>
                            <fieldset class="row gx-3">
                                <legend>Senha de Acesso</legend>
                                <div class="form-floating mb-3 col-lg-6">
                                    <input class="form-control" type="password" id="txtSenha" placeholder=" " required/>
                                    <label for="txtSenha">Senha</label>
                                </div>
                                <div class="form-floating mb-3 col-lg-6">
                                    <input class="form-control" type="password" id="txtConfirmacaoSenha" placeholder=" " required/>
                                    <label class="form-label" for="txtConfirmacaoSenha">Confirmação da Senha</label>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                    <hr />
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                        <label class="form-check-label" for="flexCheckDefault">
                            Desejo receber informações sobre promoções.
                        </label>
                    </div>
                    <div class="mb-3 text-left">
                        <a class="btn btn-lg btn-light btn-outline-dark" href="/">Cancelar</a>
                        <input type="button" id="btnCadastrar" value="Criar meu cadastro" class="btn btn-lg btn-warning" onclick="return validarSenha()"/>
                    </div>
                </form>
            </div>
        </main>

        <footer class="border-top text-muted bg-light">
            <div class="container">
                <div class="row py-3">
                    <div class="col-12 col-md-4 text center">
                        &copy; 2022 - INFOltda ME
                        <br>
                        Rua Manira Jacob Biscaro, 45 - Jd.Baccilli, Tietê
                        <br>
                        CPNJ 55.363.524/00001-54
                    </div>
                    <div class="col-12 col-md-4 text center">
                        <a href="/privacidade.html" clas="text-decoration-none text-dark">
                            Política de Privacidade
                        </a>
                        <br>
                        <a href="/termos.html" clas="text-decoration-none text-dark">
                            Termos de Uso
                        </a>
                        <br>
                        <a href="/quemsomos.html" clas="text-decoration-none text-dark">
                            Quem somos
                        </a>
                        <br>
                        <a href="/trocas.html" clas="text-decoration-none text-dark">
                            Trocas e Devoluções
                        </a>
                    </div>
                    <div class="col-12 col-md-4 text center">
                        <a href="/contato.html" class="text-decoration-none text-dark">
                            Contato pelo Site
                        </a>
                        <br>
                        E-mail:
                        <a href="mailto:email@dominio.com" class="text-decoration-none text-dark">
                            infoltda@gmail.com
                        </a>
                        <br>
                        Telefone:
                        <a href="phone:28999990000" class="text-decoration-none text-dark:">
                            (15) 98801-2158
                        </a>
                    </div>
                </div>
            </div>
        </footer>
                <!-- Modal login -->
                <div class="modal fade" id="modalLogin" tabindex="-1" aria-labelledby="modalLoginLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5" id="modalLoginLabel">Login</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <!--  -->
                                <main class="flex-fill">
                                    <div class="row justify-content-center">
                                        <form class="col">
                                            <h1>Identifique-se, por favor</h1>
                
                                            <div class="form-floating mb-3">
                                                <input type="email" id="txtEmail" class="form-control" placeholder=" " autofocus>
                                                <label for="txtEmail">E-mail</label>
                                            </div>
                
                                            <div class="form-floating mb-3">
                                                <input type="password" id="txtSenha" class="form-control" placeholder=" ">
                                                <label for="txtSenha">Senha</label>
                                            </div>
                
                                            <div class="form-check mb-3">
                                                <input type="checkbox" class="form-check-input" value="" id="chkLembrar">
                                                <label for="chkLembrar" class="form-check-label">Lembrar de mim</label>
                                            </div>
                
                                            <button type="button" id="btnLogar" class="btn btn-lg btn-warning">Entrar</button>
        
                                            <!-- <button type="button" id="btnLogar" onclick="window.location.href='/cliente_pedidos.html'"
                                                class="btn btn-lg btn-warning">Entrar</button> -->
                
                                            <p class="mt-3">
                                                Ainda não é cadastrado? <a href="/cadastro.html">Clique aqui</a> para se cadastrar.
                                            </p>
                
                                            <p class="mt-3">
                                                Esqueceu sua senha? <a href="/recuperarsenha.html">Clique aqui</a> para recuperá-la.
                                            </p>
                                        </form>
                                    </div>
                                </main>
                                <!--  -->
                            </div>
                
                        </div>
                    </div>
                </div>
        
            </div>
            <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
            <script src="js/jquery-3.6.1.min.js"></script>
            <script type="text/javascript" src="https://npmcdn.com/parse/dist/parse.min.js"></script>
            <script>
                // Initialize Parse
                  Parse.initialize("FJjT5vkunDHNfhBfdl78cLJExpr3Dm2DJqxybFeO", "GLwL83aKbBUuFp8Cy0DxjgpXy1uq71IUOi9XGkan"); //PASTE HERE YOUR Back4App APPLICATION ID AND YOUR JavaScript KEY
                  Parse.serverURL = "https://parseapi.back4app.com/";
            </script>
            <script>
    
                element_Nome               =  $('#txtNome');
                element_CPF                =  $('#txtCPF');
                element_DataNascimento     =  $('#txtDataNascimento');
                element_Email              =  $('#txtEmail');
                element_Telefone           =  $('#txtTelefone');
                element_Senha              =  $('#txtSenha');
                element_ConfirmacaoSenha   =  $('#txtConfirmacaoSenha');
                element_Cadastrar          =  $('#btnCadastrar');


                element_Cadastrar.click(()=>{
                    clienteCadastrar(
                         element_Nome.val()
                        ,element_CPF.val()
                        ,element_DataNascimento.val()
                        ,element_Email.val()
                        ,element_Telefone.val()
                        ,element_Senha.val()
                        ,element_ConfirmacaoSenha.val()
                    );
                });

        
           
                function validarSenha() {
                    senha = document.getElementById('txtSenha').value;
                    senhaC = document.getElementById('txtConfirmacaoSenha').value;

                    if (senha != senhaC) {
                        alert("Senhas diferentes!")
                        
                        return false;
                    } else {
                      return true;
                    }
                }
        
        
        
                async function clienteCadastrar(nome, cpf, data_nasc, email, telefone, senha) {
                    const objCliente = new Parse.Object('Cliente');
                    objCliente.set('nome',       nome);
                    objCliente.set('cpf',        cpf);
                    objCliente.set('data_nasc',  data_nasc);
                    objCliente.set('email',      email);
                    objCliente.set('telefone',   telefone);
                    objCliente.set('senha',      senha);
                    try {
                        const result = await objCliente.save();
                        // Access the Parse Object attributes using the .GET method
                        console.log('Cliente created', result);
                        alert('Cliente cadastrado com sucesso!!!')
                        localStorage.setItem('userLogado', JSON.stringify(objCliente));
                        location.href = 'index.html'
                    } catch (error) {
                        console.error('Error while creating Cliente: ', error);
                    }
                };
        
            </script>
    </div>

    <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.js"></script>
</body>

</html>